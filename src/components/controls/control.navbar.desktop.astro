---
import { useTranslations, getLocalePath } from '../../lib/utils';
import { defaultLang, PAGES } from '../../lib/constants';
const lang = Astro.props.locale 
const t = useTranslations(lang);
---
<nav class="nav-bar hidden-md">
    <div class="nav-container">
        <!-- Logo -->
      <a href={getLocalePath(lang, '/')} class="logo-link hidden-lg">
          <img src="/images/jaukuma-logo-rect.svg" alt="Jaukuma" class="logo-image" />
      </a>
      <a href={getLocalePath(lang, '/')} class="logo-link visible-lg">
        <img src="/images/jaukuma-logo-square.svg" alt="Jaukuma" class="logo-image" />
      </a>

        <!-- Navigation Menu -->
        <div class="nav-menu">
            <a href={getLocalePath(lang, '/#services')} class="nav-link">{t('nav.services')}</a>
            <a href={getLocalePath(lang, '/#about-video')} class="nav-link">{t('nav.about')}</a>
            <a href={getLocalePath(lang, '/#contact')} class="nav-link">{t('nav.contact')}</a>
            
            <!-- Language Switcher -->
            <div class="language-switcher">
            <a href={getLocalePath('lt', Astro.url.pathname)} class={`nav-link ${lang === 'lt' ? 'active' : ''}`}>LT</a>
            <span class="lang-separator">|</span>
            <a href={getLocalePath('en', Astro.url.pathname)} class={`nav-link ${lang === 'en' ? 'active' : ''}`}>EN</a>
            <span class="lang-separator">|</span>
            <a href={getLocalePath('ru', Astro.url.pathname)} class={`nav-link ${lang === 'ru' ? 'active' : ''}`}>RU</a>
            </div>
            
            <!-- Contact Button -->
            <a href={getLocalePath(lang, '/#contact')}  class="button-secondary-light">
            {t('nav.contact.button')}
            </a>
        </div>
  </div>
</nav>
<style>
  /* Navigation Bar */
  .nav-bar {
    @apply w-full mx-auto;
  }

  .nav-container {
    @apply flex justify-between items-center gap-[53px];
  }

  .logo-link {
    @apply flex-shrink-0 no-underline;
  }

  .logo-image {
    @apply h-36 object-fill;
  }

  .nav-menu {
    @apply flex justify-end items-center gap-6 flex-1;
  }

  .nav-item {
    @apply flex items-center gap-2 py-[19px];
  }

  .dropdown {
    @apply relative;
  }

  .nav-link {
    @apply font-serif font-normal text-sm uppercase text-light no-underline cursor-pointer transition-opacity duration-300;
    line-height: 1.33;
  }

  .nav-link:hover,
  .nav-link.active {
    @apply opacity-60;
  }

  .dropdown-icon {
    @apply w-4 h-2 transition-transform duration-300;
  }

  .dropdown:hover .dropdown-icon {
    @apply rotate-180;
  }

  /* Submenu Styles */
  .submenu {
    @apply absolute top-full left-0 bg-[#323E48] rounded-none min-w-[17rem] opacity-0 invisible -translate-y-2.5 transition-all duration-300 z-1000;
    padding: 1.5625rem 0.875rem;
  }

  .dropdown:hover .submenu {
    @apply opacity-100 visible translate-y-0;
  }

  .submenu-item {
    @apply relative;
  }

  .submenu-link {
    @apply block font-serif font-normal text-sm uppercase text-light no-underline py-2 transition-opacity duration-300;
    line-height: 1.33;
  }

  .submenu-link:hover {
    @apply opacity-60;
  }

  .submenu-separator {
    @apply h-px bg-white/10 my-2.5;
  }

  .language-switcher {
    @apply flex items-center gap-2;
  }

  .lang-separator {
    @apply font-serif font-normal text-sm text-[#D7D2C5];
    line-height: 1.33;
  }
</style>