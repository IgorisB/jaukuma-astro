---
import { useTranslations } from "../../lib/utils";

const lang = Astro.props.locale || "en";
const t = useTranslations(lang);

const services = [
    {
        id: "01",
        title: t("section.services.bouquets.title"),
        description: t("section.services.bouquets.description"),
    },
    {
        id: "02",
        title: t("section.services.decoration.title"),
        description: t("section.services.decoration.description"),
    },
    {
        id: "03",
        title: t("section.services.plants.title"),
        description: t("section.services.plants.description"),
    },
    {
        id: "04",
        title: t("section.services.events.title"),
        description: t("section.services.events.description"),
    },
    {
        id: "05",
        title: t("section.services.subscription.title"),
        description: t("section.services.subscription.description"),
    },
];
---

<section id="services" class="services-section">
    <div class="services-block">
        <div class="services-image"></div>

        <div class="services-content">
            <h2 class="services-title" set:html={t("section.services.title")} />

            <div class="services-list">
                {
                    services.map((service) => (
                        <div class="service-item">
                            <div class="service-item-header">
                                <span class="service-number">
                                    {service.id}.
                                </span>
                                <h3 class="service-title">{service.title}</h3>
                            </div>
                            <p class="service-description">
                                {service.description}
                            </p>
                        </div>
                    ))
                }
            </div>

            <a
                href="#services"
                class="button-primary-light services-button hidden"
            >
                {t("section.services.button")}
            </a>
        </div>
    </div>

    <div class="background-pattern">
        <!-- Decorative background pattern will be added via CSS -->
    </div>
</section>

<style>
    .services-section {
        position: relative;
        width: 100%;
        background-color: var(--color-additional-green);
        overflow: hidden;
    }

    .services-block {
        display: flex;
        align-items: stretch;
        min-height: 44rem;
    }

    .services-image {
        flex: 1;
        position: relative;
        background-image: url("/images/home-services.webp");
        background-size: cover;
        background-position: center;
        background-repeat: no-repeat;
    }

    .services-content {
        flex: 1;
        padding: 5rem 8rem;
        display: flex;
        flex-direction: column;
        gap: 2rem;
        background-color: var(--color-additional-green);
    }

    .services-title {
        font-family: "Playfair Display", serif;
        font-weight: 400;
        font-size: 3.625rem;
        line-height: 1.33;
        color: var(--color-light);
        margin: 0;
    }

    .services-list {
        display: flex;
        flex-direction: column;
        gap: 1rem;
        flex: 1;
    }

    .service-item {
        display: flex;
        flex-direction: column;
        gap: 0.25rem;
    }

    .service-item-header {
        display: flex;
        align-items: baseline;
        gap: 0.25rem;
    }

    .service-number {
        font-family: "Playfair Display", serif;
        font-weight: 400;
        font-size: 2rem;
        line-height: 1.33;
        color: var(--color-light);
        min-width: 2.75rem;
    }

    .service-title {
        font-family: "Playfair Display", serif;
        font-weight: 400;
        font-size: 1.125rem;
        line-height: 1.33;
        color: var(--color-light);
        margin: 0;
    }

    .service-description {
        font-family: "Source Sans Pro", sans-serif;
        font-weight: 400;
        font-size: 0.875rem;
        line-height: 1.26;
        color: var(--color-main-secondary);
        margin: 0;
        margin-left: 3rem;
    }

    .services-button {
        align-self: flex-start;
        margin-top: auto;
    }

    .hidden {
        display: none;
    }

    .background-pattern {
        position: absolute;
        bottom: 0;
        right: 0;
        width: 15.5625rem;
        height: 35.9375rem;
        background-image: url("/images/home-services-background.svg");
        background-size: contain;
        background-repeat: no-repeat;
        background-position: center;
        opacity: 0.2;
        pointer-events: none;
        z-index: 0;
    }

    /* Responsive design */
    @media (max-width: 1024px) {
        .services-block {
            flex-direction: column;
            min-height: auto;
        }

        .services-image {
            height: 20rem;
        }

        .services-content {
            padding: 3rem 2rem;
        }

        .services-title {
            font-size: 2.5rem;
        }
    }

    @media (max-width: 768px) {
        .services-content {
            padding: 2rem 1rem;
        }

        .services-title {
            font-size: 2rem;
        }

        .service-title {
            font-size: 1rem;
        }

        .service-description {
            font-size: 0.8rem;
            margin-left: 2rem;
        }

        .services-button {
            align-self: center;
            width: 100%;
            text-align: center;
        }
    }
</style>
